(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{151:function(e,t,n){},152:function(e,t,n){},160:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(50),i=n.n(a),c=(n(151),n(7)),s=(n(152),n(17)),l=n(24),o=n.n(l),j=n(31),u=n(14),d=n(200),b=n(235),h=n(203),O=n(236),x=n(231),f=n(170),g=n(226),p=n(237),m=n(227),v=n(238),y=n(239),S=n(228),k=n(240),C=n(241),w=n(232),A=n(230),D=n(205),E=n(211),F=n(39),I=n(0);function R(e){return Object(I.jsx)(d.a,Object(u.a)(Object(u.a)({},e),{},{direction:"up"}))}var P=function(e){var t=e.setUser,n=e.snackState,a=e.setSnackState,i=e.serverErrorMsg,l=Object(r.useState)({username:"",password:"",remember:!0}),d=Object(c.a)(l,2),P=d[0],z=d[1],J=Object(r.useState)(!1),H=Object(c.a)(J,2),V=H[0],q=H[1],W=Object(r.useState)(null),U=Object(c.a)(W,2),N=U[0],L=U[1],G=function(e,t){"clickaway"!==t&&a(!1)},M=Object(s.f)(),T=function(){var e=Object(j.a)(o.a.mark((function e(n){var r,a,i,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=P.username,a=P.password,i=P.remember,e.next=4,fetch("http://localhost:1000/auth/login",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({username:r,password:a,remember:i}),credentials:"include"});case 4:return c=e.sent,e.next=7,c.json();case 7:(s=e.sent).err?(L(s.msg),q(!0)):(localStorage.setItem("user",JSON.stringify(s.user)),!i&&setTimeout((function(){localStorage.clear()}),3e5),t(s.user),M("/"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)(b.a,{component:"main",maxWidth:"xs",children:[Object(I.jsx)(h.a,{}),Object(I.jsxs)(O.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(I.jsx)(x.a,{sx:{m:1,bgcolor:"blue"},children:Object(I.jsx)(D.a,{})}),Object(I.jsx)(f.a,{component:"h1",variant:"h5",children:"Sign in to continue"}),Object(I.jsxs)(O.a,{component:"form",noValidate:!0,onSubmit:T,sx:{mt:1},children:[Object(I.jsx)(g.a,{margin:"normal",fullWidth:!0,label:"Username",name:"username",autoComplete:"username",autoFocus:!0,required:!0,onChange:function(e){z(Object(u.a)(Object(u.a)({},P),{},{username:e.target.value})),q(!1)}}),Object(I.jsx)(g.a,{margin:"normal",fullWidth:!0,name:"password",label:"Password",type:"password",autoComplete:"current-password",required:!0,onChange:function(e){z(Object(u.a)(Object(u.a)({},P),{},{password:e.target.value})),q(!1)}}),Object(I.jsx)(p.a,{control:Object(I.jsx)(m.a,{defaultChecked:!0,value:"remember",onChange:function(e){return z(Object(u.a)(Object(u.a)({},P),{},{remember:e.target.checked}))},color:"primary"}),label:"Remember me"}),Object(I.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(I.jsx)(O.a,{sx:{width:"100%"},children:Object(I.jsx)(y.a,{in:V,children:Object(I.jsxs)(S.a,{severity:"error",action:Object(I.jsx)(k.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){q(!1)},children:Object(I.jsx)(E.a,{fontSize:"inherit"})}),sx:{mb:2},children:[Object(I.jsx)(C.a,{children:"Error..."}),N]})})}),Object(I.jsx)(w.a,{container:!0,children:Object(I.jsx)(w.a,{item:!0,children:Object(I.jsx)(F.b,{to:"/register",children:"Don't have an account? Sign Up"})})})]})]}),Object(I.jsx)(A.a,{open:n,onClose:G,autoHideDuration:6e3,TransitionComponent:R,message:i,action:Object(I.jsx)(k.a,{"aria-label":"close",color:"inherit",sx:{p:.5},onClick:G,children:Object(I.jsx)(E.a,{})})},"Slide")]})},z=function(){var e=Object(r.useState)({username:"",password:"",first:"",last:""}),t=Object(c.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(!1),l=Object(c.a)(i,2),d=l[0],p=l[1],m=Object(r.useState)(null),A=Object(c.a)(m,2),R=A[0],P=A[1],z=Object(s.f)(),J=function(){var e=Object(j.a)(o.a.mark((function e(t){var r,a,i,c,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=n.username,a=n.password,i=n.first,c=n.last,e.next=4,fetch("http://localhost:1000/auth/register",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({username:r,password:a,first:i,last:c}),credentials:"include"});case 4:return s=e.sent,e.next=7,s.json();case 7:(l=e.sent).err?(P(l.msg),p(!0)):z("/login");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)(b.a,{component:"main",maxWidth:"xs",children:[Object(I.jsx)(h.a,{}),Object(I.jsxs)(O.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(I.jsx)(x.a,{sx:{m:1,bgcolor:"blue"},children:Object(I.jsx)(D.a,{})}),Object(I.jsx)(f.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(I.jsxs)(O.a,{component:"form",noValidate:!0,onSubmit:J,sx:{mt:3},children:[Object(I.jsxs)(w.a,{container:!0,spacing:2,children:[Object(I.jsx)(w.a,{item:!0,xs:12,sm:6,children:Object(I.jsx)(g.a,{autoComplete:"given-name",name:"first",required:!0,fullWidth:!0,id:"first",label:"First Name",autoFocus:!0,onChange:function(e){a(Object(u.a)(Object(u.a)({},n),{},{first:e.target.value})),p(!1)}})}),Object(I.jsx)(w.a,{item:!0,xs:12,sm:6,children:Object(I.jsx)(g.a,{required:!0,fullWidth:!0,id:"last",label:"Last Name",name:"last",autoComplete:"family-name",onChange:function(e){a(Object(u.a)(Object(u.a)({},n),{},{last:e.target.value})),p(!1)}})}),Object(I.jsx)(w.a,{item:!0,xs:12,children:Object(I.jsx)(g.a,{required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",onChange:function(e){a(Object(u.a)(Object(u.a)({},n),{},{username:e.target.value})),p(!1)}})}),Object(I.jsx)(w.a,{item:!0,xs:12,children:Object(I.jsx)(g.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",onChange:function(e){a(Object(u.a)(Object(u.a)({},n),{},{password:e.target.value})),p(!1)}})})]}),Object(I.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(I.jsx)(O.a,{sx:{width:"100%"},children:Object(I.jsx)(y.a,{in:d,children:Object(I.jsxs)(S.a,{severity:"error",action:Object(I.jsx)(k.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){p(!1)},children:Object(I.jsx)(E.a,{fontSize:"inherit"})}),sx:{mb:2},children:[Object(I.jsx)(C.a,{children:"Error..."}),R]})})}),Object(I.jsx)(w.a,{container:!0,justifyContent:"flex-end",children:Object(I.jsx)(w.a,{item:!0,children:Object(I.jsx)(F.b,{to:"/login",children:"Already have an account? Sign in"})})})]})]})]})},J=n(218),H=n(219),V=n(250),q=n(220),W=n(221),U=n(242),N=n(243),L=n(233),G=n(244),M=n(212),T=n(213),Y=n(214);function Z(e){var t=e.flight,n=e.setFlightsArr,a=e.setUser,i=e.user,s=e.isModalOpen,l=e.setIsEditDialogOpen,d=e.setCurrentlyEdittedFlight,b=e.setIsDeleteDialogOpen,h=function(){var e=Object(j.a)(o.a.mark((function e(t){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:1000/flight/follow/"+t,{method:"put",credentials:"include"});case 2:return r=e.sent,e.next=5,r.json();case 5:(i=e.sent).err?(a(null),localStorage.clear()):n(i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=Object(r.useState)(0),g=Object(c.a)(x,2),p=g[0],m=g[1];return Object(I.jsx)(w.a,{item:!0,width:"100%",position:"relative",children:Object(I.jsxs)(U.a,{sx:{display:"flex"},onPointerEnter:function(){return m(16)},onPointerLeave:function(){return m(0)},elevation:p,children:[Object(I.jsxs)(N.a,{sx:{flex:1},children:[Object(I.jsx)(f.a,{variant:"h3",fontFamily:"Noto Sans, sans-serif",paragraph:!0,children:t.destination}),s||"admin"===(null===i||void 0===i?void 0:i.role)?null:Object(I.jsxs)(O.a,{children:[t.followers,Object(I.jsx)(L.a,{title:"Follow",onClick:function(){return h(t.flightID)},children:Object(I.jsx)(k.a,{children:Object(I.jsx)(M.a,{color:t.liked?"error":"inherit"})})})]}),Object(I.jsxs)(f.a,{variant:"subtitle1",marginBottom:"-0.3rem",children:[Object(I.jsx)("b",{children:"Leaves"}),": ",t.flight_starts.slice(0,10).split("-").reverse().join("-")]}),Object(I.jsxs)(f.a,{variant:"subtitle1",paragraph:!0,children:[Object(I.jsx)("b",{children:"Returns"}),": ",t.flight_ends.slice(0,10).split("-").reverse().join("-")]}),Object(I.jsxs)(f.a,{variant:"subtitle2",paragraph:!0,children:["$",t.price]}),Object(I.jsx)(f.a,{variant:"subtitle1",paragraph:!0,children:t.description})]}),Object(I.jsx)(G.a,{component:"img",sx:{maxWidth:"50%",display:{xs:"none",sm:"none",md:"block"}},image:t.img,alt:t.destination}),"admin"===(null===i||void 0===i?void 0:i.role)?Object(I.jsxs)(w.a,{sx:{position:"absolute",right:0},container:!0,justifyContent:"flex-end",gap:"1rem",children:[Object(I.jsx)(L.a,{title:"Edit Flight",onClick:function(){l(!0),d(Object(u.a)(Object(u.a)({},t),{},{flight_starts:new Date(t.flight_starts),flight_ends:new Date(t.flight_ends)}))},children:Object(I.jsx)(k.a,{sx:{bgcolor:"rgba(255,255,255,0.6)"},children:Object(I.jsx)(T.a,{color:"warning"})})}),Object(I.jsx)(L.a,{title:"Delete Flight",onClick:function(){return b(t)},children:Object(I.jsx)(k.a,{sx:{bgcolor:"rgba(255,255,255,0.6)"},children:Object(I.jsx)(Y.a,{color:"error"})})})]}):null]})})}var K=n(215),Q=n(216),X=n(245),B=n(246),_=n(248),$=n(217),ee=n(224),te=n(223),ne=n(87);function re(e){var t=e.isAddDiaglogOpen,n=e.setIsAddDiaglogOpen,a=e.setFlightsArr,i=new Date,s=Object(r.useState)({destination:"",description:"",img:"",flight_starts:i,flight_ends:i,price:""}),l=Object(c.a)(s,2),d=l[0],b=l[1],h=Object(r.useState)(!1),x=Object(c.a)(h,2),f=x[0],p=x[1],m=Object(r.useState)(!0),A=Object(c.a)(m,2),D=A[0],F=A[1],R=Object(r.useState)(!0),P=Object(c.a)(R,2),z=P[0],J=P[1],H=Object(r.useState)({severity:"error",title:"Error...",body:"Your dates are invalid, please try re-selecting"}),V=Object(c.a)(H,2),q=V[0],W=V[1],U=Object(r.useRef)(),N=Object(r.useRef)(),L=function(){var e=Object(j.a)(o.a.mark((function e(t){var n,r,i,c,s,l,j,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),D&&z){e.next=5;break}W({severity:"error",title:"Error...",body:"Your dates are invalid, please try re-selecting"}),e.next=13;break;case 5:return n=d.destination,r=d.description,i=d.img,c=d.flight_starts,s=d.flight_ends,l=d.price,e.next=8,fetch("http://localhost:1000/admin/newFlight",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({destination:n,description:r,img:i,flight_starts:c,flight_ends:s,price:l}),credentials:"include"});case 8:return j=e.sent,e.next=11,j.json();case 11:(u=e.sent).err||(a(u),W({severity:"success",title:"Success!",body:"New flight successfully added \ud83d\ude00"}));case 13:p(!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){p(!1)}),[d]),Object(I.jsxs)(K.a,{open:t,onClose:function(){n(!1)},children:[Object(I.jsx)(Q.a,{children:"Add A New Flight"}),Object(I.jsx)(X.a,{children:Object(I.jsx)(O.a,{component:"form",onSubmit:L,mt:1,children:Object(I.jsxs)($.b,{dateAdapter:te.a,locale:ne.a,children:[Object(I.jsx)(g.a,{value:d.destination,required:!0,margin:"none",label:"Destination",type:"text",fullWidth:!0,autoFocus:!0,onChange:function(e){return b(Object(u.a)(Object(u.a)({},d),{},{destination:e.target.value}))}}),Object(I.jsx)(g.a,{value:d.description,required:!0,margin:"dense",label:"Description",type:"text",fullWidth:!0,onChange:function(e){return b(Object(u.a)(Object(u.a)({},d),{},{description:e.target.value}))}}),Object(I.jsx)(g.a,{value:d.img,required:!0,margin:"dense",label:"Image URL",type:"text",fullWidth:!0,onChange:function(e){return b(Object(u.a)(Object(u.a)({},d),{},{img:e.target.value}))}}),Object(I.jsxs)(w.a,{container:!0,width:"100%",justifyContent:"space-evenly",children:[Object(I.jsx)(ee.a,{label:"From",value:d.flight_starts,clearable:!0,ref:U,renderInput:function(e){return Object(I.jsx)(g.a,Object(u.a)({disabled:!0,margin:"normal"},e))},onChange:function(e){return b(Object(u.a)(Object(u.a)({},d),{},{flight_starts:e}))},minDate:new Date,onError:function(){return F(!1)},onAccept:function(){return F(!0)}}),Object(I.jsx)(ee.a,{label:"To",value:d.flight_ends,clearable:!0,renderInput:function(e){return Object(I.jsx)(g.a,Object(u.a)(Object(u.a)({},e),{},{required:!0,margin:"normal"}))},onChange:function(e){return b(Object(u.a)(Object(u.a)({},d),{},{flight_ends:e}))},ref:N,minDate:d.flight_starts,onError:function(){return J(!1)},onAccept:function(){return J(!0)}})]}),Object(I.jsx)(g.a,{value:d.price,required:!0,margin:"normal",type:"text",label:"Price",fullWidth:!0,helperText:"Must Be A Positive(+) Integer",inputProps:{inputMode:"numeric",pattern:"[0-9]*"},onChange:function(e){return b(Object(u.a)(Object(u.a)({},d),{},{price:e.target.value}))},InputProps:{startAdornment:Object(I.jsx)(B.a,{position:"start",children:"$"})},onError:function(){return setIsInputValid(Object(u.a)(Object(u.a)({},isInputValid),{},{price:!1}))}}),Object(I.jsx)(O.a,{sx:{width:"100%"},children:Object(I.jsx)(y.a,{in:f,children:Object(I.jsxs)(S.a,{severity:q.severity,action:Object(I.jsx)(k.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){p(!1)},children:Object(I.jsx)(E.a,{fontSize:"inherit"})}),sx:{mb:2},children:[Object(I.jsx)(C.a,{children:q.title}),q.body]})})}),Object(I.jsxs)(_.a,{variant:"contained","aria-label":"outlined primary button group",fullWidth:!0,sx:{mt:2},children:[Object(I.jsx)(v.a,{color:"error",onClick:function(){b({destination:"",description:"",img:"",flight_starts:i,flight_ends:i,price:""})},children:"Clear"}),Object(I.jsx)(v.a,{type:"submit",children:"Add"})]})]})})})]})}var ae=n(210),ie=n(249),ce=n(116),se=n.n(ce),le=n(115),oe=n.n(le),je=function(){return"linear-gradient(90deg, rgba(223,248,255,1) 0%, rgba(180,228,255,1) 50%, rgba(223,248,255,1) 100%)"};function ue(e){var t=e.isModalOpen,n=e.setIsModalOpen,r=e.searchArr;return Object(I.jsxs)(K.a,{open:t,onClose:function(){return n(!1)},scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(I.jsxs)(Q.a,{id:"scroll-dialog-title",children:["Search Results",Object(I.jsx)(L.a,{title:"Close",children:Object(I.jsx)(k.a,{"aria-label":"close",onClick:function(){return n(!1)},sx:{position:"absolute",right:0,top:5},children:Object(I.jsx)(oe.a,{fontSize:"large"})})})]}),Object(I.jsx)(X.a,{dividers:!0,sx:{background:je},children:Object(I.jsx)(w.a,{container:!0,rowGap:4,children:r.length?r.map((function(e){return Object(I.jsx)(Z,{flight:e,isModalOpen:t},e.flightID)})):Object(I.jsxs)(w.a,{children:[Object(I.jsx)(f.a,{fontSize:"small",children:"No Results Found..."}),Object(I.jsx)(f.a,{variant:"subtitle2",children:"Try searching a general term, or parts of a word."})]})})})]})}function de(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(!1),s=Object(c.a)(i,2),l=s[0],u=s[1],d=Object(r.useState)(!1),b=Object(c.a)(d,2),h=b[0],x=b[1],p=Object(r.useState)(""),m=Object(c.a)(p,2),y=m[0],S=m[1],k=Object(r.useState)(!1),C=Object(c.a)(k,2),w=C[0],A=C[1],D=Object(r.useState)([]),E=Object(c.a)(D,2),F=E[0],R=E[1],P=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&a(e)}},z=function(){var e=Object(j.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://vacations-project-ron.herokuapp.com/flight/search",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({description:y}),credentials:"include"});case 3:return n=e.sent,e.next=6,n.json();case 6:(r=e.sent).err||(A(!0),R(r));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)(O.a,{width:"100%",ml:4,sx:{marginTop:8,display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(I.jsx)(v.a,{id:"top",onClick:P(!0),variant:"contained",endIcon:Object(I.jsx)(se.a,{}),children:"Search"}),Object(I.jsxs)(ie.a,{anchor:"left",open:n,onClose:P(!1),children:[Object(I.jsxs)(O.a,{sx:{width:300},padding:"1.5rem",role:"presentation",component:"form",height:"50%",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",container:!0,onSubmit:function(e){return z(e)},children:[Object(I.jsx)(f.a,{variant:"h4",mb:-1,fontFamily:"Noto Sans, sans-serif",children:"Search"}),Object(I.jsx)(g.a,{label:"Description",name:"description",fullWidth:!0,value:y,onChange:function(e){return t=e.target.value,S(t),x(!!t),void u(!!t);var t}}),h?Object(I.jsx)(ae.a,{in:!0,children:Object(I.jsx)(v.a,{onClick:function(){return x(!1),u(!1),void S("")},children:"Clear Fields"})}):null,Object(I.jsx)(v.a,{type:"submit",variant:"contained",disabled:!l,children:"search"})]}),Object(I.jsx)(ue,{isModalOpen:w,setIsModalOpen:A,searchArr:F})]})]},"drawer")}function be(e){var t=e.currentlyEdittedFlight,n=e.setCurrentlyEdittedFlight,a=e.setFlightsArr,i=e.isEditDialogOpen,s=e.setIsEditDialogOpen,l=new Date,d=Object(r.useState)(!1),b=Object(c.a)(d,2),h=b[0],x=b[1],f=Object(r.useState)(!0),p=Object(c.a)(f,2),m=p[0],A=p[1],D=Object(r.useState)(!0),F=Object(c.a)(D,2),R=F[0],P=F[1],z=Object(r.useState)({severity:"error",title:"Error...",body:"Your dates are invalid, please try re-selecting"}),J=Object(c.a)(z,2),H=J[0],V=J[1],q=Object(r.useRef)(),W=Object(r.useRef)(),U=function(){var e=Object(j.a)(o.a.mark((function e(n){var r,i,c,s,l,j,u,d,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),m&&R){e.next=5;break}V({severity:"error",title:"Error...",body:"Your dates are invalid, please try re-selecting"}),e.next=13;break;case 5:return r=t.destination,i=t.description,c=t.img,s=t.flight_starts,l=t.flight_ends,j=t.price,u=t.flightID,e.next=8,fetch("http://localhost:1000/admin/"+u,{method:"put",headers:{"content-type":"application/json"},body:JSON.stringify({destination:r,description:i,img:c,flight_starts:s,flight_ends:l,price:j}),credentials:"include"});case 8:return d=e.sent,e.next=11,d.json();case 11:(b=e.sent).err||(a(b),V({severity:"success",title:"Success!",body:"Flight successfully editted \ud83d\ude00"}));case 13:x(!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){x(!1)}),[t]),Object(I.jsxs)(K.a,{open:i,onClose:function(){s(!1)},children:[Object(I.jsx)(Q.a,{children:"Edit Existing Flight"}),Object(I.jsx)(X.a,{children:Object(I.jsx)(O.a,{component:"form",onSubmit:U,mt:1,children:Object(I.jsxs)($.b,{dateAdapter:te.a,locale:ne.a,children:[Object(I.jsx)(g.a,{value:null===t||void 0===t?void 0:t.destination,required:!0,margin:"none",label:"Destination",type:"text",fullWidth:!0,autoFocus:!0,onChange:function(e){return n(Object(u.a)(Object(u.a)({},t),{},{destination:e.target.value}))}}),Object(I.jsx)(g.a,{value:null===t||void 0===t?void 0:t.description,required:!0,margin:"dense",label:"Description",type:"text",fullWidth:!0,onChange:function(e){return n(Object(u.a)(Object(u.a)({},t),{},{description:e.target.value}))}}),Object(I.jsx)(g.a,{value:null===t||void 0===t?void 0:t.img,required:!0,margin:"dense",label:"Image URL",type:"text",fullWidth:!0,onChange:function(e){return n(Object(u.a)(Object(u.a)({},t),{},{img:e.target.value}))}}),Object(I.jsxs)(w.a,{container:!0,width:"100%",justifyContent:"space-evenly",children:[Object(I.jsx)(ee.a,{label:"From",value:null===t||void 0===t?void 0:t.flight_starts,ref:q,renderInput:function(e){return Object(I.jsx)(g.a,Object(u.a)({disabled:!0,margin:"normal"},e))},onChange:function(e){return n(Object(u.a)(Object(u.a)({},t),{},{flight_starts:e}))},onError:function(){return A(!1)},onAccept:function(){return A(!0)}}),Object(I.jsx)(ee.a,{label:"To",value:null===t||void 0===t?void 0:t.flight_ends,clearable:!0,renderInput:function(e){return Object(I.jsx)(g.a,Object(u.a)(Object(u.a)({},e),{},{required:!0,margin:"normal"}))},onChange:function(e){return n(Object(u.a)(Object(u.a)({},t),{},{flight_ends:e}))},ref:W,minDate:null===t||void 0===t?void 0:t.flight_starts,onError:function(){return P(!1)},onAccept:function(){return P(!0)}})]}),Object(I.jsx)(g.a,{value:null===t||void 0===t?void 0:t.price,required:!0,margin:"normal",type:"text",label:"Price",fullWidth:!0,helperText:"Must Be A Positive(+) Integer",inputProps:{inputMode:"numeric",pattern:"[0-9]*"},onChange:function(e){return n(Object(u.a)(Object(u.a)({},t),{},{price:e.target.value}))},InputProps:{startAdornment:Object(I.jsx)(B.a,{position:"start",children:"$"})}}),Object(I.jsx)(O.a,{sx:{width:"100%"},children:Object(I.jsx)(y.a,{in:h,children:Object(I.jsxs)(S.a,{severity:H.severity,action:Object(I.jsx)(k.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){x(!1)},children:Object(I.jsx)(E.a,{fontSize:"inherit"})}),sx:{mb:2},children:[Object(I.jsx)(C.a,{children:H.title}),H.body]})})}),Object(I.jsxs)(_.a,{variant:"contained","aria-label":"outlined primary button group",fullWidth:!0,sx:{mt:2},children:[Object(I.jsx)(v.a,{color:"error",onClick:function(){n(Object(u.a)(Object(u.a)({},t),{},{destination:"",description:"",img:"",flight_starts:l,flight_ends:l,price:""}))},children:"Clear"}),Object(I.jsx)(v.a,{type:"submit",children:"Submit"})]})]})})})]})}var he=n(247);function Oe(e){var t=e.isDeleteDialogOpen,n=e.setIsDeleteDialogOpen,r=e.setFlightsArr,a=e.setUser,i=function(){var e=Object(j.a)(o.a.mark((function e(){var i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:1000/admin/"+t.flightID,{method:"delete",credentials:"include"});case 2:return i=e.sent,e.next=5,i.json();case 5:(c=e.sent).err?(a(null),localStorage.clear()):(r(c),n(!1));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){n(!1)};return Object(I.jsx)("div",{children:Object(I.jsxs)(K.a,{open:!!t,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(I.jsxs)(Q.a,{id:"alert-dialog-title",children:["Are you sure you'd like to delete \"",t.destination,'"?']}),Object(I.jsxs)(he.a,{children:[Object(I.jsx)(v.a,{onClick:c,variant:"outlined",children:"Cancel"}),Object(I.jsx)(v.a,{onClick:i,autoFocus:!0,color:"error",variant:"outlined",children:"Delete"})]})]})})}function xe(e){var t=e.children,n=Object(J.a)({disableHysteresis:!0,threshold:100});return Object(I.jsx)(H.a,{in:n,children:Object(I.jsx)(O.a,{onClick:function(){document.querySelector("#top").scrollIntoView({behavior:"smooth",block:"center"})},children:t,role:"presentation",sx:{position:"fixed",bottom:16,right:16}})})}var fe=function(e){var t=e.flightsArr,n=e.setFlightsArr,a=e.user,i=e.setUser,l=e.setSnackState,u=e.setServerErrorMsg,d=Object(r.useState)(!1),b=Object(c.a)(d,2),h=b[0],O=b[1],x=Object(r.useState)(!1),f=Object(c.a)(x,2),g=f[0],p=f[1],m=Object(r.useState)(null),v=Object(c.a)(m,2),y=v[0],S=v[1],k=Object(r.useState)(!1),C=Object(c.a)(k,2),A=C[0],D=C[1],E=Object(r.useState)(null),F=Object(c.a)(E,2),R=F[0],P=(F[1],function(){var e=Object(j.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:1000/flight/all",{credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:(r=e.sent).err?(localStorage.clear(),i(null),l(!0),u(r.msg)):n(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),z=Object(s.f)();return Object(r.useEffect)((function(){!a&&z("/login")}),[a]),Object(r.useEffect)((function(){return P(),function(){n([])}}),[]),Object(I.jsxs)(w.a,{width:"80%",padding:"1rem",spacing:4,container:!0,children:[Object(I.jsx)(de,{setFlightsArr:n}),t.map((function(e){return Object(I.jsx)(Z,{flight:e,setFlightsArr:n,user:a,setUser:i,setIsEditDialogOpen:p,setCurrentlyEdittedFlight:S,setIsDeleteDialogOpen:D},e.flightID)})),"admin"===(null===a||void 0===a?void 0:a.role)?Object(I.jsx)(V.a,{color:"primary","aria-label":"add",sx:{position:"fixed",bottom:"2rem",right:"2rem"},onClick:function(){return O(!0)},children:Object(I.jsx)(q.a,{})}):null,Object(I.jsx)(re,{isAddDiaglogOpen:h,setIsAddDiaglogOpen:O,setFlightsArr:n}),Object(I.jsx)(be,{currentlyEdittedFlight:y,setCurrentlyEdittedFlight:S,isEditDialogOpen:g,setIsEditDialogOpen:p,setFlightsArr:n}),Object(I.jsx)(Oe,{isDeleteDialogOpen:A,setFlightsArr:n,setUser:i,setIsDeleteDialogOpen:D,currentFlightDeleted:R}),Object(I.jsx)(xe,{children:Object(I.jsx)(V.a,{color:"secondary",size:"small","aria-label":"scroll back to top",children:Object(I.jsx)(W.a,{})})})]})},ge=n(119),pe=function(e){var t=e.user,n=e.flightsArr,a=e.setUser,i=Object(s.f)();Object(r.useEffect)((function(){n.length&&"admin"===(null===t||void 0===t?void 0:t.role)||(localStorage.clear(),a(null),i("/login"))}),[]);var l=Object(r.useState)({labels:n.filter((function(e){return e.followers})).map((function(e){return e.destination})),datasets:[{label:"# of Votes",data:n.filter((function(e){return e.followers})).map((function(e){return e.followers})),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}),o=Object(c.a)(l,2),j=o[0];o[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(f.a,{children:"Showing only flights that are followed"}),Object(I.jsx)(ge.a,{data:j,height:"90vh"})]})},me=n(117),ve=n.n(me);function ye(e){var t=e.user,n=e.setUser,r=Object(s.f)(),a=function(){var e=Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:1000/auth/logout",{method:"delete",credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:(a=e.sent).err?alert(a.err):(n(null),localStorage.removeItem("user"),r("/login"));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)(w.a,{width:"100%",height:"100%",children:t?Object(I.jsxs)(w.a,{container:!0,justifyContent:"center",alignItems:"center",width:"100%",height:"100%",children:[Object(I.jsxs)(f.a,{sx:{userSelect:"none"},children:["Welcome, ",t.first_name,"!"]}),Object(I.jsx)(L.a,{title:"Logout",placement:"top-start",children:Object(I.jsx)(k.a,{onClick:function(){return a()},children:Object(I.jsx)(ve.a,{})})})]}):Object(I.jsx)(w.a,{container:!0,justifyContent:"center",alignItems:"center",width:"100%",height:"100%",children:Object(I.jsxs)(f.a,{children:["Please ",Object(I.jsx)(F.b,{to:"/login",children:"Login"})," or ",Object(I.jsx)(F.b,{to:"/register",children:"Register"})]})})})}var Se=n(222);function ke(){var e=Object(s.f)();return Object(I.jsx)(w.a,{container:!0,justifyContent:"center",alignItems:"center",height:"100%",children:Object(I.jsx)(L.a,{title:"Stats",children:Object(I.jsx)(k.a,{onClick:function(){return e("/stats")},children:Object(I.jsx)(Se.a,{})})})})}var Ce=n(229),we=n(5),Ae=Object(we.a)("img")({maxWidth:"100%",maxHeight:"100%"});function De(){var e=Object(s.f)();return Object(I.jsx)(ae.a,{in:!0,children:Object(I.jsx)(Ce.a,{onClick:function(){return e("/")},children:Object(I.jsxs)(w.a,{container:!0,columnGap:3,justifyContent:"center",alignItems:"center",borderradius:"10px",children:[Object(I.jsx)(Ae,{alt:"plane-logo",src:"data:image/png;base64,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"}),Object(I.jsx)(f.a,{variant:"h5",fontFamily:"Titillium Web, sans-serif",children:"Fly4Less"})]})})})}function Ee(e){var t=e.user,n=e.setUser;return Object(I.jsx)(O.a,{width:"100%",height:"10vh",bgcolor:"rgba(155, 245, 255, 0.5)",sx:{position:"sticky",top:0,zIndex:2},children:Object(I.jsxs)(w.a,{height:"100%",container:!0,direction:"row",justifyContent:"space-between",alignItems:"stretch",children:[Object(I.jsx)(w.a,{container:!0,item:!0,xs:3,justifyContent:"center",alignItems:"center",children:Object(I.jsx)(De,{})}),"admin"===(null===t||void 0===t?void 0:t.role)?Object(I.jsx)(ae.a,{in:!0,children:Object(I.jsx)(w.a,{item:!0,xs:3,children:Object(I.jsx)(ke,{})})}):null,Object(I.jsx)(ae.a,{in:!0,children:Object(I.jsx)(w.a,{item:!0,container:!0,xs:3,justifyContent:"center",alignItems:"center",children:Object(I.jsx)(ye,{setUser:n,user:t})})})]})})}var Fe=function(){var e=localStorage.getItem("user"),t=Object(r.useState)(e?JSON.parse(e):null),n=Object(c.a)(t,2),a=n[0],i=n[1],l=Object(r.useState)(!1),o=Object(c.a)(l,2),j=o[0],u=o[1],d=Object(r.useState)(null),b=Object(c.a)(d,2),h=b[0],O=b[1],x=Object(r.useState)([]),f=Object(c.a)(x,2),g=f[0],p=f[1];return Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)(Ee,{user:a,setUser:i}),Object(I.jsxs)(s.c,{children:[Object(I.jsx)(s.a,{path:"/login",element:Object(I.jsx)(P,{user:a,setUser:i,snackState:j,setSnackState:u,serverErrorMsg:h})}),Object(I.jsx)(s.a,{path:"/register",element:Object(I.jsx)(z,{})}),Object(I.jsx)(s.a,{path:"/",element:Object(I.jsx)(fe,{flightsArr:g,setFlightsArr:p,user:a,setUser:i,setSnackState:u,setServerErrorMsg:O})}),Object(I.jsx)(s.a,{path:"/stats",element:Object(I.jsx)(pe,{setUser:i,flightsArr:g,user:a})})]})]})},Ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,251)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};i.a.render(Object(I.jsx)(F.a,{children:Object(I.jsx)(Fe,{})}),document.getElementById("root")),Ie()}},[[160,1,2]]]);
//# sourceMappingURL=main.60b50a37.chunk.js.map